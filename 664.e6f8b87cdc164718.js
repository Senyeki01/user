"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[664],{4664:(A,s,i)=>{i.r(s),i.d(s,{PersonalDetailsModule:()=>_});var r=i(9808),u=i(4521),a=i(3075),c=i(1135),t=i(5e3),p=i(384),d=i(7322),f=i(7531),Z=i(7423);function h(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).editDetails()}),t._uU(1," Edit Details "),t.qZA()}}function g(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateDetails()}),t._uU(1," Update Details "),t.qZA()}}function N(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).cancelEdit()}),t._uU(1," Cancel "),t.qZA()}}function v(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,h,2,0,"button",18),t.YNc(2,g,2,0,"button",18),t.YNc(3,N,2,0,"button",19),t.qZA()),2&n){const e=o.ngIf;t.xp6(1),t.Q6J("ngIf","locked"==e),t.xp6(1),t.Q6J("ngIf","edit"==e),t.xp6(1),t.Q6J("ngIf","edit"==e)}}const I=[{path:"",redirectTo:"/user/profile",pathMatch:"full"},{path:"profile",component:(()=>{class n{constructor(e){this.authService=e,this.name="",this.editMode$=new c.X("locked")}ngOnInit(){const e=this.authService.getLoggedInUser();e&&(this.editDetailsForm=new a.cw({id:new a.NI(e.id),firstName:new a.NI(e.firstName),lastName:new a.NI(e.lastName),email:new a.NI(e.email,[a.kI.required,a.kI.pattern(/^[^\s@]+@([^\s@.,]+\.)+[^\s@.,]{2,}$/)]),Idnumber:new a.NI(e.IDnumber),phone:new a.NI(e.phone),countryCode:new a.NI(e.countryCode),gender:new a.NI(e.gender),maritalStatus:new a.NI(e.maritalStatus),address:new a.cw({line1:new a.NI(e.address.line1),line2:new a.NI(e.address.line2),line3:new a.NI(e.address.line3),suburb:new a.NI(e.address.suburb),city:new a.NI(e.address.city),postalCode:new a.NI(e.address.postalCode),country:new a.NI(e.address.country)})}),this.name=e.firstName+" "+e.lastName),this.cancelEdit()}editDetails(){this.editDetailsForm.enable(),this.editMode$.next("edit")}updateDetails(){this.authService.storeUserData(this.editDetailsForm.value),this.message("Details updated successfully"),this.cancelEdit()}cancelEdit(){this.editDetailsForm.disable(),this.editMode$.next("locked")}message(e){this.authService.openSnackBar(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-details"]],decls:75,vars:6,consts:[[3,"formGroup"],["appearance","outline",1,"w-80"],[1,"text-sm"],["matInput","","placeholder","","formControlName","firstName"],["matInput","","placeholder","","formControlName","lastName"],["matInput","","type","email","placeholder","","formControlName","email",3,"disabled"],["matInput","","type","string","placeholder","","formControlName","phone"],["matInput","","type","string","placeholder","","formControlName","gender"],["matInput","","type","string","placeholder","","formControlName","maritalStatus"],["formGroupName","address"],["matInput","","type","string","placeholder","","formControlName","line1"],["matInput","","type","string","placeholder","","formControlName","line2"],["matInput","","type","string","placeholder","","formControlName","line3"],["matInput","","type","string","placeholder","","formControlName","suburb"],["matInput","","type","string","placeholder","","formControlName","city"],["matInput","","type","string","placeholder","","formControlName","postalCode"],["matInput","","type","string","placeholder","","formControlName","country"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-flat-button","",3,"click"]],template:function(e,l){1&e&&(t.TgZ(0,"div")(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"h3"),t._uU(4,"Here are your details"),t.qZA()(),t.TgZ(5,"div")(6,"form",0)(7,"div")(8,"mat-form-field",1)(9,"mat-label",2),t._uU(10,"First Name"),t.qZA(),t._UZ(11,"input",3),t.qZA()(),t.TgZ(12,"div")(13,"mat-form-field",1)(14,"mat-label",2),t._uU(15,"Last Name"),t.qZA(),t._UZ(16,"input",4),t.qZA()(),t.TgZ(17,"div")(18,"mat-form-field",1)(19,"mat-label",2),t._uU(20,"Email Address"),t.qZA(),t._UZ(21,"input",5),t.qZA()(),t.TgZ(22,"div")(23,"mat-form-field",1)(24,"mat-label",2),t._uU(25,"Phone Number"),t.qZA(),t._UZ(26,"input",6),t.qZA()(),t.TgZ(27,"div")(28,"mat-form-field",1)(29,"mat-label",2),t._uU(30,"Gender"),t.qZA(),t._UZ(31,"input",7),t.qZA()(),t.TgZ(32,"div")(33,"mat-form-field",1)(34,"mat-label",2),t._uU(35,"Marital Status"),t.qZA(),t._UZ(36,"input",8),t.qZA()(),t.TgZ(37,"div",9)(38,"div")(39,"mat-form-field",1)(40,"mat-label",2),t._uU(41,"Line 1"),t.qZA(),t._UZ(42,"input",10),t.qZA()(),t.TgZ(43,"div")(44,"mat-form-field",1)(45,"mat-label",2),t._uU(46,"Line 2"),t.qZA(),t._UZ(47,"input",11),t.qZA()(),t.TgZ(48,"div")(49,"mat-form-field",1)(50,"mat-label",2),t._uU(51,"Line 3"),t.qZA(),t._UZ(52,"input",12),t.qZA()(),t.TgZ(53,"div")(54,"mat-form-field",1)(55,"mat-label",2),t._uU(56,"Suburb"),t.qZA(),t._UZ(57,"input",13),t.qZA()(),t.TgZ(58,"div")(59,"mat-form-field",1)(60,"mat-label",2),t._uU(61,"City"),t.qZA(),t._UZ(62,"input",14),t.qZA()(),t.TgZ(63,"div")(64,"mat-form-field",1)(65,"mat-label",2),t._uU(66,"PostalCode"),t.qZA(),t._UZ(67,"input",15),t.qZA()(),t.TgZ(68,"div")(69,"mat-form-field",1)(70,"mat-label",2),t._uU(71,"Country"),t.qZA(),t._UZ(72,"input",16),t.qZA()()(),t.YNc(73,v,4,3,"div",17),t.ALo(74,"async"),t.qZA()()),2&e&&(t.xp6(2),t.hij("Good day ",l.name,""),t.xp6(4),t.Q6J("formGroup",l.editDetailsForm),t.xp6(15),t.Q6J("disabled",!0),t.xp6(52),t.Q6J("ngIf",t.lcZ(74,4,l.editMode$)))},directives:[a._Y,a.JL,a.sg,d.KE,d.hX,f.Nt,a.Fj,a.JJ,a.u,a.x0,r.O5,Z.lW],pipes:[r.Ov],styles:[""]}),n})()}];let b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,u.Bz.forChild(I)]]}),n})();var C=i(3993);let _=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,b,a.UX,C.q]]}),n})()}}]);