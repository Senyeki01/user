"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[94],{2094:(C,m,a)=>{a.r(m),a.d(m,{AuthModule:()=>w});var c=a(9808),n=a(4521),r=a(3075),e=a(5e3),d=a(384),l=a(7322),h=a(7531),p=a(7423);let f=(()=>{class t{constructor(o,i){this.authService=o,this.router=i,this.registerForm=new r.cw({firstName:new r.NI("",r.kI.required),lastName:new r.NI("",r.kI.required),email:new r.NI("",[r.kI.required,r.kI.pattern(/^[^\s@]+@([^\s@.,]+\.)+[^\s@.,]{2,}$/)]),password:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(6)])),confirmPassword:new r.NI("",r.kI.required)})}ngOnInit(){this.isLoggedin()&&(this.router.navigate(["/user/profile"]),this.authService.openSnackBar("You are already logged in"))}isLoggedin(){return null!==this.authService.getLoggedInUser()}register(){if(!this.registerForm.invalid)return this.registerForm.value.password!==this.registerForm.value.confirmPassword?(this.authService.openSnackBar("Passwords do not match"),this.registerForm.controls.password.setErrors({incorrect:!0}),void this.registerForm.controls.confirmPassword.setErrors({incorrect:!0})):void this.authService.registerUser({firstName:this.registerForm.value.firstName,lastName:this.registerForm.value.lastName,email:this.registerForm.value.email,password:this.registerForm.value.password,id:0,IDnumber:"",phone:0,countryCode:0,gender:"",maritalStatus:"",address:{line1:"",line2:"",line3:"",suburb:"",city:"",postalCode:0,country:""}}).subscribe(i=>{console.log(i),this.authService.openSnackBar("User registered successfully"),this.router.navigate(["auth/login"])},i=>{console.log(i),this.authService.openSnackBar("An error occurred")});this.authService.openSnackBar("Please fill in all the required fields")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(d.e),e.Y36(n.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:52,vars:1,consts:[[1,"flex","flex-col","md:flex-row","p-4","gap-5","full-height","full-width"],["mainContainer",""],[1,"infoCard","md:w-1/2"],[1,"grid","gap-1","content-center"],[1,"heading"],[3,"formGroup"],["appearance","outline",1,"w-80"],[1,"text-sm"],["matInput","","placeholder","","formControlName","firstName"],["matInput","","placeholder","","formControlName","lastName"],["matInput","","type","email","placeholder","","formControlName","email"],["matInput","","placeholder","","type","password","formControlName","password"],["matInput","","placeholder","","type","password","formControlName","confirmPassword"],["mat-raised-button","","color","primary",3,"click"],["routerLink","/auth/login",1,"routerLink"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div")(4,"h1"),e._uU(5,"PersonaShare"),e.qZA()(),e._UZ(6,"div"),e.TgZ(7,"div")(8,"p"),e._uU(9," PersonaShare is a web application that allows users to store their personal details on their device and share them with recruiters securely and easily. "),e._UZ(10,"br")(11,"br"),e._uU(12," No more filling out forms, just share your PersonaShare profile. "),e.qZA()()(),e.TgZ(13,"div",3)(14,"div")(15,"h1",4),e._uU(16,"Register"),e.qZA()(),e.TgZ(17,"form",5)(18,"div")(19,"mat-form-field",6)(20,"mat-label",7),e._uU(21,"First Name"),e.qZA(),e._UZ(22,"input",8),e.qZA()(),e.TgZ(23,"div")(24,"mat-form-field",6)(25,"mat-label",7),e._uU(26,"Last Name"),e.qZA(),e._UZ(27,"input",9),e.qZA()(),e.TgZ(28,"div")(29,"mat-form-field",6)(30,"mat-label",7),e._uU(31,"Email Address"),e.qZA(),e._UZ(32,"input",10),e.qZA()(),e.TgZ(33,"div")(34,"mat-form-field",6)(35,"mat-label",7),e._uU(36,"Password"),e.qZA(),e._UZ(37,"input",11),e.TgZ(38,"mat-hint"),e._uU(39,"Must be at least 6 characters long"),e.qZA()()(),e.TgZ(40,"div")(41,"mat-form-field",6)(42,"mat-label",7),e._uU(43,"Confirm Password"),e.qZA(),e._UZ(44,"input",12),e.qZA()(),e.TgZ(45,"div")(46,"button",13),e.NdJ("click",function(){return i.register()}),e._uU(47,"Register"),e.qZA(),e.TgZ(48,"span"),e._uU(49," Already have a Profile? "),e.TgZ(50,"span",14),e._uU(51,"Login"),e.qZA()()()()()()),2&o&&(e.xp6(17),e.Q6J("formGroup",i.registerForm))},directives:[r._Y,r.JL,r.sg,l.KE,l.hX,h.Nt,r.Fj,r.JJ,r.u,l.bx,p.lW,n.rH],styles:[""]}),t})();var v=a(5245);const Z=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"register",component:f},{path:"login",component:(()=>{class t{constructor(o,i){this.authService=o,this.router=i}ngOnInit(){this.isLoggedin()&&(this.router.navigate(["/user/profile"]),this.authService.openSnackBar("You are already logged in"))}isLoggedin(){return null!==this.authService.getLoggedInUser()}login(o,i){this.authService.getUserByEmail(o,i).subscribe(u=>{u?(this.authService.openSnackBar("Login successful"),this.router.navigate(["/user/profile"])):this.authService.openSnackBar("Login failed")})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(d.e),e.Y36(n.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:40,vars:1,consts:[[1,"flex","flex-col","md:flex-row","place-content-center","p-4","gap-5","full-height","full-width"],["mainContainer",""],[1,"infoCard","md:w-1/2"],[1,"grid","gap-9","content-center"],[1,"heading"],["appearance","outline",1,"w-80"],[1,"text-sm"],["matInput","","placeholder",""],["username",""],["matPrefix","",1,"pr-3"],["matInput","","placeholder","","type","password"],["password",""],["mat-raised-button","","color","primary",3,"disabled","click"],["routerLink","/auth/register",1,"routerLink"]],template:function(o,i){if(1&o){const u=e.EpF();e.TgZ(0,"div",0,1)(2,"div",2)(3,"div")(4,"h1"),e._uU(5,"PersonaShare"),e.qZA()(),e._UZ(6,"div"),e.TgZ(7,"div")(8,"p"),e._uU(9," PersonaShare is a web application that allows users to store their personal details on their device and share them with recruiters securely and easily. "),e._UZ(10,"br")(11,"br"),e._uU(12," No more filling out forms, just share your PersonaShare profile. "),e.qZA()()(),e.TgZ(13,"div",3)(14,"div")(15,"h1",4),e._uU(16,"Login"),e.qZA()(),e.TgZ(17,"div")(18,"mat-form-field",5)(19,"mat-label",6),e._uU(20,"Username"),e.qZA(),e._UZ(21,"input",7,8),e.TgZ(23,"mat-icon",9),e._uU(24,"person"),e.qZA()()(),e.TgZ(25,"div")(26,"mat-form-field",5)(27,"mat-label",6),e._uU(28,"Password"),e.qZA(),e._UZ(29,"input",10,11),e.TgZ(31,"mat-icon",9),e._uU(32,"phonelink_lock"),e.qZA()()(),e.TgZ(33,"div")(34,"button",12),e.NdJ("click",function(){e.CHM(u);const S=e.MAs(22),y=e.MAs(30);return i.login(S.value,y.value)}),e._uU(35,"Login"),e.qZA(),e.TgZ(36,"span"),e._uU(37," Don't have a Profile? "),e.TgZ(38,"span",13),e._uU(39,"Register"),e.qZA()()()()()}if(2&o){const u=e.MAs(22),g=e.MAs(30);e.xp6(34),e.Q6J("disabled",!u.value||!g.value)}},directives:[l.KE,l.hX,h.Nt,v.Hw,l.qo,p.lW,n.rH],styles:[""]}),t})()}];let U=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.ez,n.Bz.forChild(Z)]]}),t})();var A=a(3993);let w=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.ez,U,A.q,r.UX,n.Bz]]}),t})()}}]);